{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ccb76bbe_6b5a7392",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-09T18:41:38Z",
      "side": 1,
      "message": "`s/but/and/`, as having a smaller image is probably a good thing.",
      "range": {
        "startLine": 10,
        "startChar": 31,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37399c9a_eeafdbad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-09T19:45:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ccb76bbe_6b5a7392",
      "range": {
        "startLine": 10,
        "startChar": 31,
        "endLine": 10,
        "endChar": 34
      },
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c87a9b77_e046202b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-09T17:51:03Z",
      "side": 1,
      "message": "Ready to review",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "500ec7cc_6cbc030f",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-09T18:41:38Z",
      "side": 1,
      "message": "nit: shall we also run `apt-get -uy dist-upgrade` to install the latest package versions, including security fixes?",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4875c305_8edd09b1",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-09T19:45:15Z",
      "side": 1,
      "message": "Tempting, but we are not even actively scanning images to detect any issues... IMO we have no process in place to fully embrace it as we only release when new minor versions get released IOW not very often... but I\u0027m open on more votes on that.\n\nbtw: If we agree I would rather stick to `upgrade` so that we avoid the release upgrades as it would be better to newer image instead. WDTY?",
      "parentUuid": "500ec7cc_6cbc030f",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "510d005f_a4cba2f3",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-09T20:11:17Z",
      "side": 1,
      "message": "sure, `upgrade` would also work IMO.\n\nIMO, it is always good to upgrade, especially if that image is intended to be used by others as a long-running service.\n\nAlso, having a released stable image with known CVS\u0027s doesn\u0027t sound good.",
      "parentUuid": "4875c305_8edd09b1",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e92be2f_fba43965",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-10T08:20:38Z",
      "side": 1,
      "message": "\u003e IMO, it is always good to upgrade, especially if that image is intended to be used by others as a long-running service.\nAlso, having a released stable image with known CVS\u0027s doesn\u0027t sound good.\n\nKind of agree as we cannot really enforce it as we are not actively building images on a regular basis... Having said I have added the upgrade step as it adds only ~20MB to the picture still resulting in smaller then before image.",
      "parentUuid": "510d005f_a4cba2f3",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6a2e101_57a37498",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-10T08:23:43Z",
      "side": 1,
      "message": "we should also run `apt-get clean` at the end to remove downloaded debs. This should reduce size.",
      "parentUuid": "8e92be2f_fba43965",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8cf8674_7fe24f5f",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-10T08:33:21Z",
      "side": 1,
      "message": "That doesn\u0027t really improve anything now:\n```\n4 minutes ago   643MB\n13 hours ago    643MB\n```\n\nIt may improve when `upgrade` results in packages that could be removed so added ðŸ˜Š",
      "parentUuid": "c6a2e101_57a37498",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "085ad8a7_f7ba2b20",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-10T09:05:23Z",
      "side": 1,
      "message": "unless the `/var/cache/apt` is mounted outside of the image, the `clean` should remove all downloaded deb (including Gerrit\u0027s deb package) which _should_ reduce the overall size",
      "parentUuid": "a8cf8674_7fe24f5f",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b66cb59_f0d24334",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2023-10-10T09:29:00Z",
      "side": 1,
      "message": "There is no need for `clean` as docker takes care of cleaning downloaded packages\n```\ncat /etc/apt/apt.conf.d/docker-clean \nDPkg::Post-Invoke { \"rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true\"; };\nAPT::Update::Post-Invoke { \"rm -f /var/cache/apt/archives/*.deb /var/cache/apt/archives/partial/*.deb /var/cache/apt/*.bin || true\"; };\nDir::Cache::pkgcache \"\"; Dir::Cache::srcpkgcache \"\";\n```",
      "parentUuid": "a8cf8674_7fe24f5f",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fccccfbb_c6ec854b",
        "filename": "ubuntu/22/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2023-10-10T09:36:59Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "2b66cb59_f0d24334",
      "revId": "3f8a6030fb668b49333e0d76cb6c0a5e1c5393e6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}